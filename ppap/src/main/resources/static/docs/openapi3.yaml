openapi: 3.0.1
info:
  title: PPAP API docs
  description: PPAP API서버 명세페이지입니다.
  version: 0.0.1
servers:
- url: http://localhost:8080
tags: []
paths:
  /auth/logout:
    post:
      tags:
      - auth
      summary: 로그아웃 API
      description: 로그아웃 API
      operationId: logout/logout_test_
      parameters:
      - name: Authorization
        in: header
        description: Access JWT 토큰
        required: true
        schema:
          type: string
        example: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjE2OTIwOTY5Nzd9.ckNvevaEQDCayyznURHUX4D6y9-vFE_6nkddLVoFThqIe3fFrYVfk4qCNVhVBeqB4Rn3jtrQhEQTULksGnGUGw
      responses:
        "404":
          description: "404"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                logout/logout_test_fail_token_not_found_in_redis:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "존재하지 않는 토큰입니다.",
                        "status" : 404
                      }
                    }
        "200":
          description: "200"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                logout/logout_test_success:
                  value: |-
                    {
                      "success" : true,
                      "response" : null,
                      "error" : null
                    }
      security:
      - bearerAuthJWT: []
  /auth/reissue:
    post:
      tags:
      - auth
      summary: 토큰 재발행 API
      description: 토큰 재발행 API
      operationId: reissue/reissue_test
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: '#/components/schemas/auth-reissue-1070120359'
            examples:
              reissue/reissue_test_fail_invalid_token:
                value: |-
                  {
                    "refreshToken" : "testToken"
                  }
              reissue/reissue_test_fail_token_not_found_in_redis:
                value: |-
                  {
                    "refreshToken" : "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjIwMDc0NTUxNzd9.F1EmSMiXenS5WgEedZRN00zHQZP5kND_AbWfphkpR8Pu658iGbt1KlrtOwyslFR0gRSFG4dAsVXHqR6e-Dxwtg"
                  }
              reissue/reissue_test_fail_no_token:
                value: |-
                  {
                    "refreshToken" : null
                  }
              reissue/reissue_test:
                value: |-
                  {
                    "refreshToken" : "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjIwMDc0NTUxNzd9.F1EmSMiXenS5WgEedZRN00zHQZP5kND_AbWfphkpR8Pu658iGbt1KlrtOwyslFR0gRSFG4dAsVXHqR6e-Dxwtg"
                  }
      responses:
        "400":
          description: "400"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                reissue/reissue_test_fail_invalid_token:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "유효하지 않은 토큰입니다.",
                        "status" : 400
                      }
                    }
                reissue/reissue_test_fail_no_token:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "must not be null",
                        "status" : 400
                      }
                    }
        "404":
          description: "404"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                reissue/reissue_test_fail_token_not_found_in_redis:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "존재하지 않는 토큰입니다.",
                        "status" : 404
                      }
                    }
        "200":
          description: "200"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                reissue/reissue_test:
                  value: |-
                    {
                      "success" : true,
                      "response" : {
                        "accessToken" : "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOm51bGwsInJvbGUiOiJST0xFX1VTRVIiLCJpZCI6MSwiZXhwIjoxNjkyMDk2OTc3fQ.pzgT6Ft5_LicC9KePOGO5sT8cRDt6jsSIfpi64wjdV4RfasemBWSkPWUEUL2SChUJX6pseLm_tz8lRgnBQ8NwQ",
                        "refreshToken" : "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOm51bGwsInJvbGUiOiJST0xFX1VTRVIiLCJpZCI6MSwiZXhwIjoyMDA3NDU1MTc3fQ.wJLdz6ECPdCVJg6vURERWRLVRfOnI3gSY9rv6_3Y6_ymYO0mUnG7zedqt1vG6Om1SoWx-SUzjZktpCmPn0cCyQ"
                      },
                      "error" : null
                    }
  /auth/kakao/login:
    post:
      tags:
      - auth
      summary: 카카오 로그인 API
      description: 카카오 로그인 API
      operationId: user-login/user_kakao_login_test
      parameters:
      - name: Kakao
        in: header
        description: "카카오 Access토큰: 카카오 액세스 토큰을 넣어야 합니다.(그대로 입력시 에러발생)"
        required: true
        schema:
          type: string
        example: testToken
      responses:
        "400":
          description: "400"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                user-login/user_kakao_login_test_fail_invalid_kakao_access_token:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "유효하지 않은 카카오 accessToken입니다.",
                        "status" : 400
                      }
                    }
                user-login/user_kakao_login_test_fail_kakao_access_token_missing:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "카카오 accessToken을 입력해주세요",
                        "status" : 400
                      }
                    }
        "200":
          description: "200"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                user-login/user_kakao_login_test:
                  value: |-
                    {
                      "success" : true,
                      "response" : {
                        "accessToken" : "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjE2OTIwOTY5Nzd9.ckNvevaEQDCayyznURHUX4D6y9-vFE_6nkddLVoFThqIe3fFrYVfk4qCNVhVBeqB4Rn3jtrQhEQTULksGnGUGw",
                        "refreshToken" : "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjIwMDc0NTUxNzd9.F1EmSMiXenS5WgEedZRN00zHQZP5kND_AbWfphkpR8Pu658iGbt1KlrtOwyslFR0gRSFG4dAsVXHqR6e-Dxwtg"
                      },
                      "error" : null
                    }
  /subscribe:
    get:
      tags:
      - subscribe
      operationId: get-test/success
      parameters:
      - name: Authorization
        in: header
        description: access Token
        required: true
        schema:
          type: string
        example: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjE2OTIwOTY5NzZ9.x-IShWlNMSsPzMbPl8l2ByMYstMI9tvx6xwb3T7D13L0hAqFiQI2_cHV3QeoGyu83Ho1eWdgJwknGsQD-aCsYw
      responses:
        "200":
          description: "200"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                get-test/success:
                  value: |-
                    {
                      "success" : true,
                      "response" : [ {
                        "subscribeId" : 1,
                        "title" : "테스트1",
                        "isActive" : true
                      }, {
                        "subscribeId" : 2,
                        "title" : "테스트2",
                        "isActive" : true
                      }, {
                        "subscribeId" : 3,
                        "title" : "테스트3",
                        "isActive" : true
                      } ],
                      "error" : null
                    }
      security:
      - bearerAuthJWT: []
    post:
      tags:
      - subscribe
      operationId: create-test/
      parameters:
      - name: Authorization
        in: header
        description: 액세스 토큰
        required: true
        schema:
          type: string
        example: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjE2OTIwOTY5NzZ9.x-IShWlNMSsPzMbPl8l2ByMYstMI9tvx6xwb3T7D13L0hAqFiQI2_cHV3QeoGyu83Ho1eWdgJwknGsQD-aCsYw
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: '#/components/schemas/subscribe-728135382'
            examples:
              create-test/success:
                value: |-
                  {
                    "title" : "test123",
                    "rssLink" : "https://cse.pusan.ac.kr/bbs/cse/2618/rssList.do",
                    "noticeLink" : "https://cse.pusan.ac.kr/cse/14669/subview.do"
                  }
              create-test/fail_rss_notice_major_mismatch:
                value: |-
                  {
                    "title" : "test123",
                    "rssLink" : "https://cse.pusan.ac.kr/bbs/cse/2615/rsslist.do",
                    "noticeLink" : "https://eec.pusan.ac.kr/eec/12412/subview.do"
                  }
              create-test/fail_invalid_rss:
                value: |-
                  {
                    "title" : "test123",
                    "rssLink" : "https://cse.pusan.ac.kr/bbs/cse/2618/list.do",
                    "noticeLink" : "https://cse.pusan.ac.kr/cse/14669/subview.do"
                  }
              create-test/fail_invalid_rss-link:
                value: |-
                  {
                    "title" : "test123",
                    "rssLink" : "https://www.mois.go.kr/gpms/view/jsp/rss/rss.jsp?ctxCd=1012",
                    "noticeLink" : "https://cse.pusan.ac.kr/cse/14669/subview.do"
                  }
      responses:
        "201":
          description: "201"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                create-test/success:
                  value: |-
                    {
                      "success" : true,
                      "response" : "created",
                      "error" : null
                    }
        "400":
          description: "400"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                create-test/fail_rss_notice_major_mismatch:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "유효하지 않은 RSS 링크입니다.",
                        "status" : 400
                      }
                    }
                create-test/fail_invalid_rss:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "유효하지 않은 RSS 링크입니다.",
                        "status" : 400
                      }
                    }
                create-test/fail_invalid_rss-link:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "부산대 RSS 링크가 아닙니다.",
                        "status" : 400
                      }
                    }
      security:
      - bearerAuthJWT: []
  /subscribe/{subscribe_id}:
    post:
      tags:
      - subscribe
      operationId: update-test/
      parameters:
      - name: subscribe_id
        in: path
        description: ""
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: access Token
        required: true
        schema:
          type: string
        example: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjE2OTIwOTY5NzV9.lDzlSWdw_t83zWSnoR0B7Qmw7-DPFCSIwE9bXBqFyuQixrcqMOkfF2R9pKtBtQw9vZNt2y3j_HIu4J480qJIEA
      requestBody:
        content:
          application/json;charset=UTF-8:
            schema:
              $ref: '#/components/schemas/subscribe-subscribe_id1959969058'
            examples:
              update-test/fail_subscribe_not_exist:
                value: |-
                  {
                    "title" : "modi_test1",
                    "noticeLink" : "https://cse.pusan.ac.kr/cse/14651/subview.do"
                  }
              update-test/success:
                value: |-
                  {
                    "title" : "modi_test1",
                    "noticeLink" : "https://cse.pusan.ac.kr/cse/14651/subview.do"
                  }
              update-test/fail_rss_notice_major_mismatch:
                value: |-
                  {
                    "title" : "modi_test1",
                    "noticeLink" : "https://eec.pusan.ac.kr/eec/14651/subview.do"
                  }
              update-test/fail_user_writer_mismatch:
                value: |-
                  {
                    "title" : "modi_test1",
                    "noticeLink" : "https://cse.pusan.ac.kr/cse/14651/subview.do"
                  }
      responses:
        "404":
          description: "404"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                update-test/fail_subscribe_not_exist:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "존재하지 않는 구독입니다.",
                        "status" : 404
                      }
                    }
        "200":
          description: "200"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                update-test/success:
                  value: |-
                    {
                      "success" : true,
                      "response" : {
                        "subscribeId" : 1,
                        "title" : "modi_test1",
                        "noticeLink" : "https://cse.pusan.ac.kr/cse/14651/subview.do",
                        "isActive" : true
                      },
                      "error" : null
                    }
        "400":
          description: "400"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                update-test/fail_rss_notice_major_mismatch:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "RSS와 공지사항 링크 학과가 일치하지 않습니다.",
                        "status" : 400
                      }
                    }
        "403":
          description: "403"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                update-test/fail_user_writer_mismatch:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "허가되지 않은 접근입니다.",
                        "status" : 403
                      }
                    }
      security:
      - bearerAuthJWT: []
  /subscribe/active/{subscribe_id}:
    post:
      tags:
      - subscribe
      operationId: active-update-test/
      parameters:
      - name: subscribe_id
        in: path
        description: ""
        required: true
        schema:
          type: string
      - name: Authorization
        in: header
        description: access Token
        required: true
        schema:
          type: string
        example: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJyanNkbnhvZ2hAbmF2ZXIuY29tIiwicm9sZSI6IlJPTEVfVVNFUiIsImlkIjoxLCJleHAiOjE2OTIwOTY5NzV9.lDzlSWdw_t83zWSnoR0B7Qmw7-DPFCSIwE9bXBqFyuQixrcqMOkfF2R9pKtBtQw9vZNt2y3j_HIu4J480qJIEA
      responses:
        "404":
          description: "404"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                active-update-test/fail_subscribe_not_exist:
                  value: |-
                    {
                      "success" : false,
                      "response" : null,
                      "error" : {
                        "message" : "존재하지 않는 구독입니다.",
                        "status" : 404
                      }
                    }
        "200":
          description: "200"
          content:
            application/json;charset=UTF-8:
              schema:
                $ref: '#/components/schemas/subscribe486549215'
              examples:
                active-update-test/success:
                  value: |-
                    {
                      "success" : true,
                      "response" : {
                        "subscribeId" : 1,
                        "title" : "테스트1",
                        "noticeLink" : null,
                        "isActive" : false
                      },
                      "error" : null
                    }
      security:
      - bearerAuthJWT: []
components:
  schemas:
    subscribe-subscribe_id1959969058:
      type: object
      properties:
        noticeLink:
          type: string
          description: 공지사항 링크
        title:
          type: string
          description: 구독 제목
    subscribe-728135382:
      type: object
      properties:
        rssLink:
          type: string
          description: rss 링크
        noticeLink:
          type: string
          description: 공지사항 링크
        title:
          type: string
          description: 구독 제목
    auth-reissue-1070120359:
      type: object
      properties:
        refreshToken:
          type: string
          description: Refresh 토큰
    subscribe486549215:
      type: object
  securitySchemes:
    bearerAuthJWT:
      type: http
      scheme: bearer
      bearerFormat: JWT
